(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(47)},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),c=a.n(i),s=a(10),l=a(2),o=a.n(l),m=a(9),u=a(3),d=a(4),v=a(6),g=a(5),f=a(7),h=a(18),p=a.n(h).a.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"a007b887b49706263b3fb31d7ef95cab"}}),b=function(e){var t=e.movie,a=e.movieGenres;return r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{className:"ui fluid image",src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:t.title})),r.a.createElement("div",{className:"content"},r.a.createElement("h4",{"data-testid":"movie-title",className:"header"},t.title),r.a.createElement("p",{className:"description"},a.join(", "))))},E=function(e){var t,a=e.movies,n=e.genres,i=e.rating,c=a.sort((t="popularity",function(e,a){return e[t]>a[t]?-1:1})).filter(function(e){return e.visibility}).map(function(e){var t=[];return e.genre_ids&&(t=e.genre_ids.map(function(e){return n.find(function(t){return t.id===e}).name})),e.vote_average<i?null:r.a.createElement(b,{key:e.id,movie:e,movieGenres:t})});return r.a.createElement("div",{className:"ui stackable four column grid","data-testid":"render-movies"},c)},y=function(e){var t=e.genres,a=e.onSelected,n=e.onRemoved,i=t.map(function(e){var t=e.id,i=e.name;return r.a.createElement("div",{className:"item",key:t},r.a.createElement("div",{className:"ui checkbox description"},r.a.createElement("input",{type:"checkbox",value:t,id:t,name:"genre",onChange:function(e){e.target.checked?a(t):e.target.checked||n(t)}}),r.a.createElement("label",{htmlFor:t},r.a.createElement("span",{className:"description"},i))))});return r.a.createElement("div",null,i)},N=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){(0,a.props.ratingChange)(e.target.value)},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.rating;return r.a.createElement("div",null,r.a.createElement("input",{type:"range",min:"0",max:"10",value:e,"data-testid":"rating",onChange:this.handleChange,step:"0.5"}))}}]),t}(r.a.Component),k=(a(46),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],genres:[],filteredGenres:[],rating:3},a.getGenres=Object(m.a)(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/genre/movie/list");case 2:t=e.sent,n=t.data.genres,a.setState({genres:n});case 5:case"end":return e.stop()}},e)})),a.getMovies=Object(m.a)(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/movie/now_playing");case 2:t=e.sent,n=t.data.results,a.setState({movies:n.map(function(e){return Object(s.a)({},e,{visibility:!0})})});case 5:case"end":return e.stop()}},e)})),a.genreChecked=function(e){var t=a.state.filteredGenres;a.setState({filteredGenres:t.concat(e)},a.filterResults)},a.genreUnchecked=function(e){var t=a.state.filteredGenres;a.setState({filteredGenres:t.filter(function(t){return!(t===e)})},a.filterResults)},a.filterResults=function(){var e=a.state,t=e.movies,n=e.filteredGenres;a.setState({movies:t.map(function(e){return Object(s.a)({},e,{visibility:n.every(function(t){return e.genre_ids.includes(t)})})})})},a.ratingChange=function(e){a.setState({rating:e})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getGenres(),this.getMovies()}},{key:"render",value:function(){var e=this.state,t=e.genres,a=e.movies,n=e.rating,i=e.filteredGenres;return r.a.createElement("div",{className:"ui main container","data-testid":"app"},r.a.createElement("header",{className:"ui header"},r.a.createElement("div",{className:"ui one column grid"},r.a.createElement("div",{className:"column"},r.a.createElement("h1",{className:"logo"},"MovieMania")))),r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"twelve wide column"},r.a.createElement(E,{genres:t,movies:a,rating:n})),r.a.createElement("div",{className:"four wide column"},r.a.createElement("div",{className:"ui list"},r.a.createElement("h2",{className:"heading-filter"},"Filter by Rating"),r.a.createElement(N,{ratingChange:this.ratingChange}),r.a.createElement("h2",{className:"heading-filter"},"Filter by Genre"),r.a.createElement(y,{genres:t,filteredGenres:i,onSelected:this.genreChecked,onRemoved:this.genreUnchecked})))))}}]),t}(r.a.Component));c.a.render(r.a.createElement(k,null),document.querySelector("#root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.49333a15.chunk.js.map